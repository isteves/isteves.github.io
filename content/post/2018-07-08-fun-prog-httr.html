---
title: FUNctional programming tricks in httr
author: Irene Steves
date: '2018-07-26'
slug: fun-prog-httr
categories: []
tags: []
draft: false
output:
  blogdown::html_page:
    toc: true
    toc_depth: 3
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<link href="/rmarkdown-libs/jsoneditor/jsoneditor.min.css" rel="stylesheet" />
<script src="/rmarkdown-libs/jsoneditor/jsoneditor.min.js"></script>
<script src="/rmarkdown-libs/jsonedit-binding/jsonedit.js"></script>

<div id="TOC">
<ul>
<li><a href="#httr-basics">httr basics</a></li>
<li><a href="#on-with-the-tricks">On with the <strong>tricks</strong>!</a><ul>
<li><a href="#embrace-the-backtick">Embrace the backtick</a></li>
<li><a href="#the-null-default-operator">The null-default operator <code>%||%</code></a></li>
<li><a href="#check-argument-inputs-with-match.arg">Check argument inputs with <code>match.arg()</code></a></li>
<li><a href="#switch-out-your-if-elses"><code>switch()</code> out your if-elses</a></li>
<li><a href="#strange-bedfellows">Strange bedfellows</a></li>
</ul></li>
<li><a href="#tldr---do-read-the-source-code">tl;dr - <em>do</em> read the source code!</a></li>
</ul>
</div>

<p>Over the past few months, I worked on several projects that involved accessing web API’s in R, which meant I spent a lot of time puzzling over the functions and code in the <a href="https://github.com/r-lib/httr">httr package</a>. I came to really enjoy referring back to the <a href="https://github.com/r-lib/httr/blob/1fc659856602f60ff75eb01903513244e3491ec2/R/content.r"><code>content()</code></a> function in particular–it seemed that I learned something new every time I went back to it!</p>
<div id="httr-basics" class="section level2">
<h2>httr basics</h2>
<p>You can use httr’s <code>GET</code> function to read any URL into your R session. However, some URL’s are more conducive to parsing and manipulation than others. For example, I can use <code>GET</code> to retrieve a csv file.</p>
<pre class="r"><code>library(httr)
internet_thing &lt;- GET(&quot;https://cn.dataone.org/cn/v2/resolve/urn:uuid:9e123f84-ce0d-4094-b898-c9e73680eafa&quot;)</code></pre>
<p>If you take a look at the <code>internet_thing</code>, it looks something like this:</p>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="jsonedit html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"data":{"url":"https://arcticdata.io/metacat/d1/mn/v2/object/urn:uuid:9e123f84-ce0d-4094-b898-c9e73680eafa","status_code":200,"headers":{"date":"Thu, 26 Jul 2018 05:14:49 GMT","server":"Apache/2.4.7 (Ubuntu)","x-frame-options":"SAMEORIGIN","vary":"User-Agent","set-cookie":"JSESSIONID=9B631DE40DD69486D3966B63BA6742D1; Path=/metacat/; Secure; HttpOnly","content-disposition":"inline; filename=\"Alaska_Schools_Rentention2009_15.csv\"","x-frame-options.1":"sameorigin","access-control-allow-origin":"","access-control-allow-headers":"Authorization, Content-Type, Origin, Cache-Control","access-control-allow-methods":"GET, POST, PUT, OPTIONS","access-control-allow-credentials":"true","transfer-encoding":"chunked","content-type":"text/csv"},"all_headers":[{"status":303,"version":"HTTP/1.1","headers":{"date":"Thu, 26 Jul 2018 05:14:47 GMT","server":"Apache/2.4.7 (Ubuntu)","vary":"User-Agent","set-cookie":"JSESSIONID=5D2D36C3ECD209FD9ED89440C134812A; Path=/cn/; Secure; HttpOnly","location":"https://arcticdata.io/metacat/d1/mn/v2/object/urn:uuid:9e123f84-ce0d-4094-b898-c9e73680eafa","access-control-allow-origin":"","access-control-allow-credentials":"true","access-control-allow-headers":"Authorization, Content-Type, Location, Content-Length, x-annotator-auth-token","access-control-expose-headers":"Content-Length, Content-Type, Location","access-control-allow-methods":"POST, GET, OPTIONS, PUT, DELETE","transfer-encoding":"chunked","content-type":"text/xml;charset=UTF-8"}},{"status":200,"version":"HTTP/1.1","headers":{"date":"Thu, 26 Jul 2018 05:14:49 GMT","server":"Apache/2.4.7 (Ubuntu)","x-frame-options":"SAMEORIGIN","vary":"User-Agent","set-cookie":"JSESSIONID=9B631DE40DD69486D3966B63BA6742D1; Path=/metacat/; Secure; HttpOnly","content-disposition":"inline; filename=\"Alaska_Schools_Rentention2009_15.csv\"","x-frame-options.1":"sameorigin","access-control-allow-origin":"","access-control-allow-headers":"Authorization, Content-Type, Origin, Cache-Control","access-control-allow-methods":"GET, POST, PUT, OPTIONS","access-control-allow-credentials":"true","transfer-encoding":"chunked","content-type":"text/csv"}}],"cookies":{"domain":["#HttpOnly_cn.dataone.org","#HttpOnly_arcticdata.io"],"flag":[false,false],"path":["/cn/","/metacat/"],"secure":[true,true],"expiration":[null,null],"name":["JSESSIONID","JSESSIONID"],"value":["5D2D36C3ECD209FD9ED89440C134812A","9B631DE40DD69486D3966B63BA6742D1"]},"content":"IkRpc3RyaWN0Lk5hbWUiLCJEaXN0cmljdC5JRCIsIlNjaG9vbC5JRCIsIlNjaG9vbC5OYW1l\nIiwiTG9jYXRpb24iLCJMYXR0aXR1ZGUiLCJMb25naXR1ZGUiLCJMb3dlc3QuR3JhZGUiLCJI\naWdoZXN0LkdyYWRlIiwiVGl0bGUuSS5TdGF0dXMuQ291bnQuNXlycyIsIkF2Zy5FbnJvbGxt\nZW50MTAuMTQuNXlycyIsIlN0ZC5EZXYuRW5yb2xsIiwiQXZnLlMuQ291bnQuQVlQLjV5cnMi\nLCJTdGQuRGV2LlMuQ291bnQuQVlQLjV5cnMiLCJBdmcuUy5QLlByb2YuUi41eXJzIiwiU3Rk\nLkRldi5TLlAuUHJvZi5SLjV5cnMiLCJBdmcuUy5QLlByb2YuVy41eXJzIiwiU3RkLkRldi5T\nLlAuUHJvZi5XLjV5cnMiLCJBdmcuUy5QLlByb2YuTS41eXJzIiwiU3RkLkRldi5TLlAuUHJv\nZi5NLjV5cnMiLCJBdmcuVC5Db3VudC41eXJzIiwiU3RkLkRldi5ULkNvdW50LjV5cnMiLCJB\ndmcuVC5SZXRlbnRpb24uNXlycyIsIlN0ZC5EZXYuVHJlbnRlbnRpb24uNXlycyIsIkF2Zy5H\ncmFkLjV5cnMiLCJTdGQuRGV2LkdyYWQuNXlycyIsIkF2Zy5BdHRlbmQuNXlycyIsIlN0ZC5E\nZXYuQXR0ZW5kLjV5cnMiLCJBdmcuUC5TLkV0aC5BTi41eXJzIiwiU3RkZXYuUC5TLkV0aC5B\nTi41eXJzIiwiQXZnLlAuUy5HZW5kZXIuTWFsZS41eXJzIiwiU3RkLkRldi5QLlMuR2VuZGVy\nLk1hbGUuNXlycyIKIkRlbmFsaSAiLDIsMjAwMTAsIkFuZGVyc29uIFNjaG9vbCIsIkFuZGVy\nc29uIiw2NC4zNDQsLTE0OS4xODYsIktHIiwxMiw1LDI4LjQsOC43MywxNi42LDUuMTgsODUu\nMjcsNi4zOCw4MS44Nyw2LjA4LDc4LjExLDguNDUsNi44LDAuODQsNjguOTMsMTkuMjksNTMu\nMywzOS43OSw5Mi44LDMsMTUuMzQsOS45NjUsNTQuNjcsMy44ODQKIkRlbmFsaSAiLDIsMjAw\nMzAsIkNhbnR3ZWxsIFNjaG9vbCIsIkNhbnR3ZWxsIiw2My4zOTEsLTE0OC45NSwiS0ciLDEy\nLDUsMjYsNy4wNCwxNy42LDEuODIsOTYuOTUsNC41LDg5LjY4LDExLjksODcuNzUsNC45LDQs\nMSw3MywzMS41NCw3MCw0NC43Miw4OS4yLDIuOCw2LjIxLDcuMjM2LDY0Ljk4LDYuMDAxCiJE\nZW5hbGkgIiwyLDIwMDQwLCJUcmktVmFsbGV5IFNjaG9vbCIsIkhlYWx5Iiw2My44NTYsLTE0\nOC45NjYsIlBFIiwxMiw1LDE4MCw1LjYxLDk4LDguMjIsODcuNzcsMy4xLDg1LjIsMi44OSw3\nOS45NSwzLjE3LDE0LjgsMS40OCw3Ny41MywxMS4zOCw4My44LDcuOCw5MC42LDIuNTYsMS44\nLDEuMzI2LDUyLjY2LDEuNzM5CiJEZW5hbGkgIiwyLDI4MDEwLCJEZW5hbGkgUGVhayBQcm9n\ncmFtIiwiSGVhbHkiLDYzLjg1NiwtMTQ4Ljk2NiwiS0ciLDEyLDEsNDk4LDE2NC4yNywyNzYs\nNTMuNDIsODUuNjUsNi4xNSw3OC42MywzLjY3LDc3Ljg2LDMuMjEsMi42LDAuNTUsNTYuNjcs\nMjcuODksMTYsMTEuODYsMTAwLDAuMDEsNC42NywyLjEwOSw1MS4xNSwxLjkKIkJlcmluZyBT\ndHJhaXQiLDcsNzAwMTAsIkJyZXZpZyBNaXNzaW9uIFNjaG9vbCIsIkJyZXZpZyBNaXNzaW9u\nIiw2NS4zMzQsLTE2Ni40ODksIlBFIiwxMiw1LDEyNS44LDguODcsNjUuNiwzLjI5LDM1Ljcs\nNi4yMywzMC4wNywzLjMxLDM0LjQzLDUuNDksMTQuNiwxLjUyLDYyLjU2LDEyLjI1LDY3LDIx\nLjEsODMuOSwxLjU5LDk4LjA5LDAuOTIyLDQ4Ljk3LDQuMTQxCiJCZXJpbmcgU3RyYWl0Iiw3\nLDcwMDQwLCJBbmlndWlpbiBTY2hvb2wiLCJFbGltIiw2NC42MTcsLTE2Mi4yNjEsIlBFIiwx\nMiw1LDk2LjIsMTEuMDMsNDguNiw1LjMyLDU2LjQ5LDkuNjYsNDQuNDEsOS40LDY0LjQ5LDku\nNTcsOS44LDAuNDUsNzkuNTYsMTIuMjksNTkuMiwyNS40MSw5MS45LDEuODEsOTkuODEsMC40\nMTgsNTguNzQsMS45NDIKIkJlcmluZyBTdHJhaXQiLDcsNzAwNTAsIkxpdHRsZSBEaW9tZWRl\nIFNjaG9vbCIsIkRpb21lZGUiLDY1LjczNiwtMTY4Ljk0MSwiS0ciLDEyLDUsMzIuNCw3LjU3\nLDE1LjQsMS41MiwyNS4wOCwxMi43MywxMS4zMywxMC40Myw4Ljc2LDQuNDIsNC4yLDEuMSw1\nNSwyOC4wMSw3My4zLDI3Ljg5LDg3LjUsMS42LDEwMCwwLDM4LjE3LDYuNjc5CiJCZXJpbmcg\nU3RyYWl0Iiw3LDcwMDYwLCJNYXJ0aW4gTC4gT2xzb24gU2Nob29sIiwiR29sb3ZpbiIsNjQu\nNTQzLC0xNjMuMDI5LCJLRyIsMTIsNSw1NS44LDguMDcsMjUuOCwyLjI4LDU5LjQ0LDEzLjA4\nLDUzLjY4LDkuOTEsNDYuOTIsNi42MSw1LjgsMC44NCw2OS45LDE3Ljk3LDkzLjMsMTQuOTEs\nOTIuNCwyLjA3LDk3LjE2LDAuODA5LDQ1LjA3LDIuODM3CiJCZXJpbmcgU3RyYWl0Iiw3LDcw\nMDcwLCJLb3l1ay1NYWxpbWl1dCBTY2hvb2wiLCJLb3l1ayIsNjQuOTMsLTE2MS4xNiwiUEUi\nLDEyLDUsMTA2LjgsNy40Niw1Ny4yLDIuNTksNjMuOTIsOC41Miw2MS44NSw2LjM5LDUxLjY4\nLDcuNzIsMTEuMiwxLjMsNjIuMTQsMjEuMDgsNjguNCwyMC41OCw4Ni41LDIuMTQsOTkuODEs\nMC40MjYsNTQuMTMsMy43NzcKIkJlcmluZyBTdHJhaXQiLDcsNzAwODAsIkFudGhvbnkgQS4g\nQW5kcmV3cyBTY2hvb2wiLCJTdC4gTWljaGFlbCIsNjMuNDc4LC0xNjIuMDM5LCJQRSIsMTIs\nNSwxNzIsMTAuMDcsODUuOCwxMC43MSw1Mi44Nyw4LjY0LDU0LjE4LDQuOTIsNTQuODksOS44\nMywxNy4yLDEuMSw3MC44Myw4LjMzLDY4LjIsMjUuMiw4OS4yLDIuMjgsOTkuMDgsMC44ODEs\nNTMuMTEsMS4yOTgKIkJlcmluZyBTdHJhaXQiLDcsNzAxMDAsIlNoYWt0b29saWsgU2Nob29s\nIiwiU2hha3Rvb2xpayIsNjQuMzMzLC0xNjEuMTUzLCJLRyIsMTIsNSw3NC42LDExLjE3LDM5\nLjQsNC45OCw0Ny40NywxMC43NCwzNC44NSwzLjA0LDQxLjkxLDYuMzcsNy42LDAuNTUsNjUu\nMzYsOS4wNyw3NC44LDE1LjkxLDkxLjgsMS4yMSw5OS4zNywwLjg2NSw1OS4xNiw0LjExMwoi\nQmVyaW5nIFN0cmFpdCIsNyw3MDExMCwiU2hpc2htYXJlZiBTY2hvb2wiLCJTaGlzaG1hcmVm\nIiw2Ni4yNiwtMTY2LjA3LCJQRSIsMTIsNSwxOTguOCwxOC41OSw5OS44LDEzLjE0LDUwLjU1\nLDYuNzIsNDYuMjIsNC4xOSw0OS44NCw2Ljk2LDE2LjQsMC41NSw3My4xNiwzLjMxLDQ3Ljgs\nMjEuNzksODgsMi42NSw5OS40OSwwLjUwOCw1Ni42NywxLjA1NwoiQmVyaW5nIFN0cmFpdCIs\nNyw3MDEyMCwiVHVrdXJuZ2FpbG5ndXEgU2Nob29sIiwiU3RlYmJpbnMiLDYzLjUxLC0xNjIu\nMjcsIlBFIiwxMiw1LDE5OC4yLDExLjg0LDk1LjIsNS40LDM5LjA5LDEwLjUyLDM0LjA3LDcu\nNzcsMjcuNjcsNC4wOCwxNy40LDAuNTUsNjQuMjUsMTAuMDcsNDQuMywxNC4xLDg1LjUsMS45\nNyw5OS44MSwwLjQzNCw1My4wOCwxLjU1NgoiQmVyaW5nIFN0cmFpdCIsNyw3MDEzMCwiSmFt\nZXMgQy4gSXNhYmVsbCBTY2hvb2wiLCJUZWxsZXIiLDY1LjI2LC0xNjYuMzUsIktHIiwxMiw1\nLDcyLjgsMy40OSw0MC44LDIuMDUsNzMuOTUsNi4zNSw3MC41NSw1LjQ0LDcyLjAyLDMuOTUs\nOC44LDAuNDUsNzcuNSwyNC43LDc2LjcsMTguMDcsOTEuNSwyLjM5LDk5LjQ2LDAuNzM2LDQ4\nLjUxLDMuNTIyCiJCZXJpbmcgU3RyYWl0Iiw3LDcwMTUwLCJXYWxlcyBTY2hvb2wiLCJXYWxl\ncyIsNjUuNjA5LC0xNjguMDg3LCJLRyIsMTIsNSwzOS4yLDQuNjYsMTcsMS44Nyw0Ny4yNiw1\nLjcsMzAuODgsOC4wOSwzNS4xNSwxMi4wMiw0LjQsMC41NSw3NCwzMi42Nyw4Ni43LDE2LjMz\nLDg0LjksMy42NiwxMDAsMCw0NS4wNSw0LjQ2OQoiQmVyaW5nIFN0cmFpdCIsNyw3MDE2MCwi\nV2hpdGUgTW91bnRhaW4gU2Nob29sIiwiV2hpdGUgTW91bnRhaW4iLDY0LjY4LC0xNjMuNDEs\nIktHIiwxMiw1LDUwLDMuNTQsMjcuMiwyLjM5LDgwLjM5LDQuOSw2Ni43Miw2LjEsNzAuNzgs\nMy42Myw3LjQsMC41NSw4NC4yOSwxMC4yOSw1OSwzNi44MSw5My41LDQuMDMsOTIuMDMsMi42\nNjMsNTUuMTcsMS44MDYKIkJlcmluZyBTdHJhaXQiLDcsNzAxODAsIkdhbWJlbGwgLSBKb2hu\nIEFwYW5nYWxvb2sgU2Nob29sIiwiR2FtYmVsbCIsNjMuNzc5LC0xNzEuNzQxLCJLRyIsMTIs\nNSwxOTkuOCw4LjY3LDEwNCw1LjcsNDkuNzYsMy44MSw0MC4yLDguNDEsMzMuODcsNS43Mywx\nNi4yLDAuODQsNDEuNzMsMTMuNjMsMzguNSwxMC40NSw4Mi4zLDQuMDcsOTkuOSwwLjIyNCw0\nOS4wMiwyLjY3NQoiQmVyaW5nIFN0cmFpdCIsNyw3MDIwMCwiSG9nYXJ0aCBLaW5nZWVrdWsg\nU3IuIE1lbW9yaWFsIiwiU2F2b29uZ2EiLDYzLjcsLTE3MC40NiwiUEUiLDEyLDUsMjI5LjQs\nOS45NiwxMjMuOCw0LjAyLDMzLjUsNC40OSwzMi41OCwzLjIsMjguOTYsOS42NiwxOSwwLjcx\nLDczLjc4LDExLjcxLDQ5LjQsMTkuNCw4MC4xLDQuMTksOTkuODIsMC4yNDIsNTEuMDYsMC45\nNTQKIkJlcmluZyBTdHJhaXQiLDcsNzAyNjAsIlVuYWxha2xlZXQgU2Nob29sIChGcmFuayBB\nLiBEZWduYW4gSGlnaCBTY2hvb2wpIiwiVW5hbGFrbGVldCIsNjMuODczLC0xNjAuNzg4LCJQ\nRSIsMTIsNSwxNzMuNiwxMi4wNyw4Ny4yLDQuNDQsNzkuMDQsNS4wNiw3NS42Nyw3LjMzLDc0\nLjcyLDUuOTQsMTcuMiwwLjg0LDc3LjYxLDEyLjQsNzksMTUuODYsOTEuNCwxLjYzLDk0LjQ2\nLDEuNDI2LDU3LjE2LDIuNDUzCiJJZGl0YXJvZCIsMjEsMjEwMDEwLCJCbGFja3dlbGwgU2No\nb29sIiwiQW52aWsiLDYyLjY1NiwtMTYwLjIwNiwiS0ciLDEyLDUsMTkuNCwzLjEzLDEzLjQs\nMS42Nyw1NC40NiwxMi40OCwzNS4yNCwxNi4zMSw0OS42MywyNC43MiwzLjQsMS45NSwyMy4z\nMywyNS4yOCw1MCw3MC43MSw5MS4zLDIsOTkuMDUsMi4xMyw2MC45Nyw1Ljc3NwoiSWRpdGFy\nb2QiLDIxLDIxMDAzMCwiSG9seSBDcm9zcyBTY2hvb2wiLCJIb2x5IENyb3NzIiw2Mi4yLC0x\nNTkuNzcsIlBFIiwxMiw1LDQyLjQsMi4zLDI2LjIsMS4zLDYzLjM4LDMuNjgsNTMuMzMsNy41\nOSw1MC4zNCw4Ljg2LDQuNCwxLjUyLDcxLjQzLDE5LjQsNjUsNDEuODMsOTUuMiwxLjI2LDEw\nMCwwLDQ3LjczLDIuODA4CiJJZGl0YXJvZCIsMjEsMjEwMDQwLCJMaW1lIFZpbGxhZ2UgU2No\nb29sIiwiTGltZSBWaWxsYWdlLU1jR3JhdGgiLDYxLjM1LC0xNTUuNDMsIktHIiwxMixOQSxO\nQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxO\nQSxOQSxOQSxOQQoiSWRpdGFyb2QiLDIxLDIxMDA1MCwiVGFrb3RuYSBDb21tdW5pdHkgU2No\nb29sIiwiVGFrb3RuYSIsNjIuOTksLTE1Ni4wNiwiS0ciLDEyLDUsMTEuOCwxLjY0LDQuOCww\nLjg0LDYwLE5BLDYwLE5BLDgwLE5BLDEuOCwwLjQ1LDYwLDQxLjgzLDM4LjksMzQuNyw5My4y\nLDIuNDEsNzEuODEsMTQuNTIyLDcyLjU1LDguMjEzCiJJZGl0YXJvZCIsMjEsMjEwMDYwLCJN\nY0dyYXRoIFNjaG9vbCIsIk1jR3JhdGgiLDYyLjk1LC0xNTUuNTgsIktHIiwxMiw1LDU0LDUu\nMzQsMzIuMiwzLjU2LDc4LjA0LDExLjUzLDY3LjM4LDQuOTIsNjUuNTUsNS42LDQuOCwwLjQ1\nLDQ4LDMzLjQ3LDcwLDIwLjkyLDk1LjIsMy4yNCw3Ni40NSw3LjE3OCw0OC41LDQuMDE1CiJJ\nZGl0YXJvZCIsMjEsMjEwMDgwLCJUb3Agb2YgdGhlIEt1c2tva3dpbSBTY2hvb2wiLCJOaWtv\nbGFpIiw2My4wMTMsLTE1NC4zNzUsIlBFIiwxMiw1LDE1LjIsNC4wOSw4LjIsMS40OCw1OS43\nOCwxNi40LDQ5LjcyLDEwLjc4LDM0Ljk0LDExLjQsMS44LDAuNDUsMTAsMjIuMzYsNDQuNCw1\nMC45Miw5My4yLDQuMTksOTEuNDIsOS4zMzQsNjcuNCw4LjY0MQoiSWRpdGFyb2QiLDIxLDIx\nMDA5MCwiSW5ub2tvIFJpdmVyIFNjaG9vbCIsIlNoYWdlbHVrIiw2Mi42ODIsLTE1OS41NjEs\nIlBFIiwxMiw1LDE1LDMuNTQsOC4yLDQuNzYsNjMuNjcsMTQuMiw0MS40NywxNC45OSwyOS44\nNywxMy43NiwyLDAsODAsMjcuMzksNjYuNyw1Ny43NCw5My4yLDIuNzEsOTgsNC40NzIsNjAu\nNTYsMTIuMTU4CiJJZGl0YXJvZCIsMjEsMjEwMTIwLCJEYXZpZC1Mb3VpcyBNZW1vcmlhbCBT\nY2hvb2wiLCJHcmF5bGluZyIsNjIuOTAzLC0xNjAuMDY0LCJQRSIsMTIsNSw0MS40LDUuMTMs\nMjEuNiw1LjgxLDUwLjE3LDQuNywzNS40MywxNC40MiwyNC42LDE4LjMzLDMuMiwwLjg0LDQ1\nLDI5LjgxLDE1LjUsMTcuOTcsODkuMywzLjYzLDk3Ljc4LDMuMTQzLDQ5Ljg3LDYuODgyCiJJ\nZGl0YXJvZCIsMjEsMjE4MDEwLCJEaXN0YW5jZSBMZWFybmluZy9Db3JyZXNwLiBDdHIuIiwi\nRWFnbGUgUml2ZXIiLDYxLjMyMSwtMTQ5LjU2NywiS0ciLDEyLDAsMTAwLjQsMzAuNjMsNTAu\nOCwxMy40OCw4OS43Nyw0Ljg0LDgzLjE2LDQuNDYsNjguMywxMS4wMywyLDAsODAsMjcuMzks\nNTEuNCwyNC4xOSw5OS43LDAuNjIsMTAuMDEsNC4xMDcsNDYuMDMsNC43MDcKIk5lbmFuYSIs\nMzQsMzQwMDEwLCJOZW5hbmEgQ2l0eSBTY2hvb2wiLCJOZW5hbmEiLDY0LjU2MywtMTQ5LjA5\nMywiS0ciLDEyLDUsMjAxLjIsMy4xMSw5OS40LDkuOTEsNzQuNDMsOS40Myw2Ny40NSw2LjYy\nLDYzLjU5LDcuNzQsMTcuOCwwLjQ1LDg4Ljc2LDguNzksNzguOSw5Ljg4LDg5LjUsMS4yMyw1\nMy41NCw0LjM5NCw0NC45MiwyLjQxNgoiTmVuYW5hIiwzNCwzNDgwMTAsIkN5YmVyTHlueCBD\nb3JyZXNwb25kZW5jZSBQcm9mLm9ncmFtIiwiTmVuYW5hIiw2NC41NjMsLTE0OS4wOTMsIlBF\nIiwxMiwwLDgyMS44LDc4LjQ5LDIyNi41LDI3LjIzLDg0LjUyLDMuMDYsNzQuOTIsNS42Niw2\nMS4xMiwzLjYzLDcuNCwwLjU1LDg2LjQzLDAuOTgsMjEuMyw0Ljg3LDEwMCwwLDEzLjE5LDMu\nNjkyLDQ4LjY1LDIuNjE0CiJOb21lIiwzNSwzNTAwMTAsIk5vbWUgRWxlbWVudGFyeSBTY2hv\nb2wiLCJOb21lIiw2NC41MDEsLTE2NS40MDYsIlBFIiw2LDUsMzgxLjYsMTYuNjgsMTkxLjgs\nOC41OCw2NC4zNyw0Ljc3LDU5LjAyLDUuMDEsNTguMDYsMi44LDI5LDIuNTUsODcuMTksNS4z\nMSxOQSxOQSw5MywyLjU0LDc3LjQyLDQuODUxLDQ4LjUyLDAuNjYzCiJOb21lIiwzNSwzNTAw\nMjAsIk5vbWUgQmVsdHogSGlnaCBTY2hvb2wiLCJOb21lIiw2NC41MDEsLTE2NS40MDYsIjci\nLDEyLDUsMjM4LDEzLjIxLDE2Mi42LDExLjcsNjYuNTEsMy45Nyw1Ny4yNywyLjk3LDUxLjUx\nLDcuMjMsMjAsMS41OCw3OS4zMiwxMi44Miw2Ni42LDkuMjIsOTEuNCwwLjkzLDYzLjUyLDIu\nMTc5LDU2LjQ5LDIuMTgxCiJOb21lIiwzNSxOQSwiTm9ydGh3ZXN0ZXJuIEFsYXNrYSBDYXJl\nZXIgYW5kIFRlY2huaWNhbCBDZW50ZXIiLCJOb21lIiw2NC41MDEsLTE2NS40MDYsIiIsTkEs\nTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEs\nTkEsTkEsTkEsTkEsTkEKIk5vbWUiLDM1LDM1NzAyMCwiTm9tZSBZb3V0aCBGYWNpbGl0eSIs\nIk5vbWUiLDY0LjUwMSwtMTY1LjQwNiwiNSIsMTIsNCw4LDEuMjIsNS42LDIuMyw1MS44NSwx\nNi45NywxMi45NiwxMS41NiwzMC41NiwyNy41LDEsMCwxMDAsMCwyNy4xLDIwLjgzLDc4Ljgs\nNDQuMTQsOTEuNzksMTIuNjAyLDg4LjE0LDExLjQ2OQoiTm9tZSIsMzUsMzU4MDEwLCJFeHRl\nbnNpb25zIENvcnJlc3BvbmRlbmNlIiwiTm9tZSIsNjQuNTAxLC0xNjUuNDA2LCI3IiwxMiww\nLDEyLDIuOTIsNy4yLDEuNzksOTYuMyw2LjQyLDc2Ljk0LDcuMjIsNjYuNzYsMTguNzEsTkEs\nTkEsTkEsTkEsNzUsNTAsOTkuOSwwLjA5LDM2LjMzLDIxLjgwOSw0Ny45OCw3LjQzNQoiTm9t\nZSIsMzUsMzU5MDEwLCJBbnZpbCBDaXR5IFNjaWVuY2UgQWNhZGVteSIsIk5vbWUiLDY0LjUw\nMSwtMTY1LjQwNiwiNSIsOCw0LDQ0LjQsMC41NSw0NC4yLDAuNDUsOTcuNzQsMS42MSw5NC41\nOCw0Ljk3LDkzLjY5LDMuNjUsMy4yLDAuNDUsODMuMzMsMjMuNTcsTkEsTkEsOTUuNSwxLjU5\nLDQ5LjQzLDEzLjgwMyw0OC4yNSw1LjczNQoiTm9ydGggU2xvcGUiLDM2LDM2MDAxMCwiTnVu\nYW1pdXQgU2Nob29sIiwiQW5ha3R1dnVrIFBhc3MiLDY4LjE1LC0xNTEuNzMsIlBFIiwxMiw1\nLDkyLjgsOS41OCw0Ni4yLDMuMTEsNDYuMDcsNi4yNSwyOS40LDYuNjUsMjguMjQsNS44Niwx\nMC44LDEuMyw3Mi44OCwxOC4wNCw0NS4xLDMyLjM4LDgzLjUsMC42NSw4Mi4xMiwzLjc3OSw1\nNy44OCwxLjY3NwoiTm9ydGggU2xvcGUiLDM2LDM2MDAyMCwiRnJlZCBJcGFsb29rIEVsZW1l\nbnRhcnkiLCJCYXJyb3ciLDcxLjI5LC0xNTYuNzg4LCJQRSIsNSwxLDY0Ni42LDI3Ljc4LDIy\nOC4yLDEyLjMyLDY2LjM1LDQuNjUsNTguMDgsMy45LDYyLjQ5LDYuOSwzNC40LDEuNjcsNzgu\nOTUsOS43NCxOQSxOQSw4Ny44LDAuODQsNjguODYsMi4xOTIsNTEuMjEsMC44MTQKIk5vcnRo\nIFNsb3BlIiwzNiwzNjAwMzAsIkJhcnJvdyBIaWdoIFNjaG9vbCIsIkJhcnJvdyIsNzEuMjks\nLTE1Ni43ODgsIjkiLDEyLDAsMjA2LjYsMTIuNCw5OC44LDcuOTUsNzMuMjksNy45OCw2OC4y\nMSw4LjAxLDYwLjU0LDcuNDksMTguOCwxLjc5LDc2LjU2LDExLjIyLDg2LjcsMTAuMDEsODku\nMSwxLjM5LDYyLjUzLDMuNjAyLDUwLjk0LDIuMDA0CiJOb3J0aCBTbG9wZSIsMzYsMzYwMDQw\nLCJIYXJvbGQgS2F2ZW9sb29rIFNjaG9vbCIsIktha3RvdmlrIiw3MC4xMywtMTQzLjYyLCJQ\nRSIsMTIsMyw2MCwyLjI0LDMyLDMuODEsNjguODEsNS4zNSw2My4yMSwxMy4zNSw2MS42OCw2\nLjM3LDguNiwxLjUyLDc3LjExLDEyLjc2LDg1LDIyLjM2LDg5LjksMS42Myw5My42NSw0LjMw\nMyw1NC4zMywxLjUwMgoiTm9ydGggU2xvcGUiLDM2LDM2MDA1MCwiTnVpcXN1dCBUcmFwcGVy\nIFNjaG9vbCIsIk51aXFzdXQiLDcwLjIyLC0xNTEuMDEsIlBFIiwxMiwyLDk5LjgsMTAuMTgs\nMzgsNy4yOCw0Ni42MSw2LjQyLDM3LjMsNi41NSw0MS4zNiwxMS41MiwxMi42LDEuNTIsNjMu\nMzEsMTkuNjksMzguOSwxNS41Miw3OS4xLDEuODUsOTcuNzksMS42OTQsNTEuMDksMi4wMjUK\nIk5vcnRoIFNsb3BlIiwzNiwzNjAwNjAsIlRpa2lnYXEgU2Nob29sIiwiUG9pbnQgSG9wZSIs\nNjguMywtMTY2Ljc2LCJQRSIsMTIsNSwyMjMuMiw5Ljk2LDk5LjYsOS4wNCw0Mi40Nyw0LjI3\nLDMxLjU2LDUuMjEsMzMuMTYsNi4yNywxOC44LDIuMjgsNjIuMjYsNi45OSw1NiwxNi4wOCw4\nMy43LDIuNDQsOTcuMDUsMC45ODksNDguNzcsMy42MTEKIk5vcnRoIFNsb3BlIiwzNiwzNjAw\nNzAsIkthbGkgU2Nob29sIiwiUG9pbnQgTGF5Iiw2OS43NCwtMTYzLjAxLCJQRSIsMTIsNSw4\nNC44LDYuODMsMzcuOCw1LjIyLDQzLjgyLDcuMTksMjcuOTYsNy43NiwzMC4wMywxMC4yMyw5\nLjYsMS42Nyw2NS44OSwxMi43NSw1MCwzMC42Miw4OS43LDAuOTIsOTYuNjgsMi44OTEsNTQu\nNjYsMi4wNjkKIk5vcnRoIFNsb3BlIiwzNiwzNjAwOTAsIk1lYWRlIFJpdmVyIFNjaG9vbCIs\nIkF0cWFzdWsiLDcwLjQ3NiwtMTU3LjM2MiwiUEUiLDEyLDUsNzUuOCwyLjc3LDQwLjgsMy42\nMywzNi40LDEzLjEzLDI0LjczLDkuNDEsMjAuODYsMTAuNjUsMTEsMSw2OS4wMyw5Ljk1LDM1\nLDI5LjExLDg2LjQsMC45OSw5OC42OSwxLjYxMiw2MC40OCwyLjYzMQoiTm9ydGggU2xvcGUi\nLDM2LDM2MDEwMCwiQWxhayBTY2hvb2wiLCJXYWlud3JpZ2h0Iiw3MC42MzYsLTE2MC4wMzgs\nIlBFIiwxMiw1LDE1My4yLDMuODMsNzQuNCwyLjk3LDU1LjM0LDguNDYsNDkuMjcsNi4wNiw0\nOCw4LjYsMTUsMS4yMiw4MS41NCwxMi42Nyw2MC4zLDE0LjkzLDg1LjcsMy45Myw5OS42MSww\nLjM2LDUwLjY0LDAuOTk0CiJOb3J0aCBTbG9wZSIsMzYsMzYwMTIwLCJFYmVuIEhvcHNvbiBN\naWRkbGUgU2Nob29sIiwiQmFycm93Iiw3MS4yOSwtMTU2Ljc4OCwiNiIsOCwxLDIxNy4yLDE5\nLjk0LDIxNC42LDIwLjQ4LDYyLjcyLDUuNDUsNTEuMTUsMy4yNiw1Ni45MSwzLjk2LDE3LDEs\nNjQuNDYsMTQuNTYsTkEsTkEsODguMiwxLjE3LDY3LjYsMy42NDksNTIuOTMsMS41ODMKIk5v\ncnRoIFNsb3BlIiwzNiwzNjcwMTAsIktpaXRhIExlYXJuaW5nIENvbW11bml0eSIsIkJhcnJv\ndyIsNzEuMjksLTE1Ni43ODgsIjYiLDEyLDUsNDYuNCw4LjUsMTguNCw2Ljk1LDIzLjIxLDku\nOSwxNS44Miw1Ljk1LDE3LjU1LDcuODYsNC40LDAuODksNzYsMzIuODYsMjcuNiwxMS43OCw3\nMS45LDQuNzUsODguNzQsMy43NTksNTIuOTcsMTAuODY5CiJOb3J0aHdlc3QgQXJjdGljIiwz\nNywzNzAwMTAsIkFtYmxlciBTY2hvb2wiLCJBbWJsZXIiLDY3LjA4NiwtMTU3Ljg1MSwiUEUi\nLDEyLDUsNjguNiw2LjExLDM3LjYsNi4zNSw0Ny44NCwxMi41Myw0Mi43MywxNy42Niw0NC4w\nOCwxNi4yNiw4LjgsMi4xNyw1OS40OSwxMS44OCw1OC4zLDQ3LjE0LDg5LjQsMC45NSw5Ny4y\nNiwyLjc4OSw0OS4xNCwyLjM2OAoiTm9ydGh3ZXN0IEFyY3RpYyIsMzcsMzcwMDIwLCJCdWNr\nbGFuZCBTY2hvb2wiLCJCdWNrbGFuZCIsNjUuOTc5LC0xNjEuMTIzLCJQRSIsMTIsNSwxNjYu\nMiwyLjE3LDkwLjYsOC4xNyw1Mi45Niw1Ljc0LDQ2LjExLDQuMDUsNTUuMzIsNy4yNywxMi40\nLDAuODksNjQuNTIsNi45MSw2Ny42LDE1LjU4LDkxLjIsMC4zOCw5OC40MywxLjAyMyw1My41\nNSwyLjAzMgoiTm9ydGh3ZXN0IEFyY3RpYyIsMzcsMzcwMDMwLCJEZWVyaW5nIFNjaG9vbCIs\nIkRlZXJpbmciLDY1Ljc4LC0xNjMuMDA5LCJQRSIsMTIsNSwzNi42LDYuNTQsMTYuMiwxLjMs\nNzIuNzQsMTYuNzUsNzEuNTcsMTAuODIsNzQuNTEsMTMuNTEsNC40LDAuODksNTEuNjcsMjku\nMTEsOTAsMjIuMzYsOTIuNiwxLjQsOTguMjQsMy45NDYsNTcuMzQsNS4xMTgKIk5vcnRod2Vz\ndCBBcmN0aWMiLDM3LDM3MDA0MCwiS2lhbmEgU2Nob29sIiwiS2lhbmEiLDY2Ljk3LC0xNjAu\nNDMsIlBFIiwxMiw1LDExNy44LDcuMzMsNjkuNiwzLjA1LDQzLjk1LDExLjExLDQwLjUxLDgu\nNSwzNy4zMSw5Ljk4LDkuNCwxLjE0LDYwLjQ5LDE0LjQyLDU5LjQsMTguMjYsODkuNCwxLjQ0\nLDk4LjQzLDEuMTQ2LDUxLjA5LDEuMTQxCiJOb3J0aHdlc3QgQXJjdGljIiwzNywzNzAwNjAs\nIk1jUXVlZW4gU2Nob29sIiwiS2l2YWxpbmEiLDY3LjcyLC0xNjQuNDksIlBFIiwxMiw1LDEz\nMy44LDkuNzYsNjYsNy4yNSwyMi4yNCw0LjcxLDE0LjQyLDQuNzcsMTMuNDgsMi44NSw3Ljgs\nMS4xLDY3LjUsMTIuNjQsMzguMSwxNi4zOCw4NiwyLjk0LDk5Ljg2LDAuMzA2LDQ1LjQzLDMu\nODgzCiJOb3J0aHdlc3QgQXJjdGljIiwzNywzNzAwNzAsIktvYnVrIFNjaG9vbCIsIktvYnVr\nIiw2Ni45MDcsLTE1Ni44ODEsIlBFIiwxMiw1LDQ1LjIsNS4xMiwyNSwxLjQxLDQ3LjgsNi41\nOCw0My43Myw2LjY4LDQ2LjM4LDcuODEsNS4yLDAuNDUsNjIsMTcuODksNzAuOCwzNC4zNiw5\nMi4xLDIuMzIsOTcuNzcsMC4yNDYsNTIuMTEsNC42ODUKIk5vcnRod2VzdCBBcmN0aWMiLDM3\nLDM3MDA4MCwiSnVuZSBOZWxzb24gRWxlbWVudGFyeSBTY2hvb2wiLCJLb3R6ZWJ1ZSIsNjYu\nODk4LC0xNjIuNTk2LCJQRSIsNyw1LDM5MSw0Ljg1LDE2MCwzLjM5LDY5Ljc0LDIuNzYsNjYu\nNDksMi41Niw2OC45Myw2LjgsMjIuNiwwLjU1LDY2LjQsOC45LE5BLE5BLDkwLjQsMC44LDg2\nLjk1LDEuOTE3LDQ5LjAxLDEuNjI2CiJOb3J0aHdlc3QgQXJjdGljIiwzNywzNzAwOTAsIk5h\ncGFhcXR1Z21pdXQgU2Nob29sIiwiTm9hdGFrIiw2Ny41NywtMTYyLjk4LCJQRSIsMTIsNSwx\nNzMuMiwxNS4yNSw5Mi42LDQuODMsNDMuMDcsNi40NCwzNi4zOCwzLjE5LDM0LjAzLDQuMzEs\nMTEuNCwwLjU1LDc5LjM5LDE1LjIxLDU4LDEzLjI2LDg5LjgsMC40LDk3LjA5LDAuMjU4LDU2\nLjMxLDEuNDE1CiJOb3J0aHdlc3QgQXJjdGljIiwzNywzNzAxMDAsIkFxcWFsdWsgSGlnaC9O\nb29ydmlrIEVsZW1lbnRhcnkiLCJOb29ydmlrIiw2Ni44MzYsLTE2MS4wNDQsIlBFIiwxMiw1\nLDE5Ny42LDkuNDgsMTEyLjIsNi44Myw0MS41Niw0Ljc4LDM0LjQ3LDIuOTUsMzkuMTksNi4y\nOSwxMywwLDczLjg1LDYuODgsNDEuOSwyNS4wMSw4NS45LDMuMTYsOTYuODcsMC42NjQsNTcu\nMzIsMi43MTcKIk5vcnRod2VzdCBBcmN0aWMiLDM3LDM3MDExMCwiU2h1bmduYWsgU2Nob29s\nIiwiU2h1bmduYWsiLDY2Ljg5LC0xNTcuMTQsIlBFIiwxMiw1LDgyLjYsOC4xNCw0MSw0LjQ3\nLDE2LjY2LDkuNzMsMTQuMzUsNy41MSwxMS4yLDEwLDYuOCwxLjEsNTYuNTcsNDMuMTEsNDAu\nMSwyNC42OSw4NC45LDQuMzgsOTguNzQsMS4yNTksNDkuMjMsMi40OTcKIk5vcnRod2VzdCBB\ncmN0aWMiLDM3LDM3MDE1MCwiS290emVidWUgTWlkZGxlL0hpZ2ggU2Nob29sIiwiS290emVi\ndWUiLDY2Ljg5OCwtMTYyLjU5NiwiNiIsMTIsNSwzMTEuMiwxOC44MSwyMjMsNy43MSw2NC4y\nMywwLjk3LDU1Ljk5LDIuMTUsNjEuNDUsMy43NSwyMy42LDMuMzYsNjIuNCwxNC4yOCw2Ni41\nLDYuOTYsODUuNiwyLjM3LDg5LjY5LDEuNzA0LDQ4LjE0LDIuMzc1CiJOb3J0aHdlc3QgQXJj\ndGljIiwzNywzNzAyMTAsIkRhdmlzLVJhbW90aCBNZW1vcmlhbCBTY2hvb2wiLCJTZWxhd2lr\nIiw2Ni42MDMsLTE2MC4wMDYsIlBFIiwxMiw1LDI3MywxMC4wNSwxNDUsMTUuOTUsMjQuOSwz\nLjU0LDE5LjQsMS4xNCwxOC4wNyw1LjM4LDE3LDEuODcsNTQuMDIsMTEuMTEsMjcuNSwxMC41\nNCw4MS4xLDEuMDcsOTguODMsMC4yNzksNDYuMTgsMS43OTkKIk5vcnRod2VzdCBBcmN0aWMi\nLDM3LDM3ODAxMCwiQWx0ZXJuYXRpdmUgTGVhcm5pbmcgQ2VudGVyIiwiS290emVidWUiLDY2\nLjg5OCwtMTYyLjU5NiwiOSIsMTIsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEs\nTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEKIll1a29uIEZsYXRzIiw1MSw1\nMTAwMTAsIkFyY3RpYyBWaWxsYWdlIFNjaG9vbCIsIkFyY3RpYyBWaWxsYWdlIiw2OC4wNzcs\nLTE0NS40MjMsIlBFIiwxMiw1LDI4LjQsMy4yOSwxNywxLjg3LDEyLjg4LDcuODMsMTUuMjQs\nMy42Myw1Ljg2LDQuODUsNC4yLDAuODQsNDEuNjcsMjguNTMsMTAsMjAsOTQuNCwzLjYxLDk4\nLjQ5LDIuMTEyLDUxLjEyLDguMjk5CiJZdWtvbiBGbGF0cyIsNTEsNTEwMDIwLCJGYXIgTm9y\ndGggU2Nob29sIiwiQ2VudHJhbCIsNjUuNTcsLTE0NC44LCJQRSIsMTIsMSwxMCxOQSxOQSxO\nQSxOQSxOQSxOQSxOQSxOQSxOQSwxLDAsNTAsNzAuNzEsTkEsTkEsTkEsTkEsMzAsTkEsNDAs\nTkEKIll1a29uIEZsYXRzIiw1MSw1MTAwNDAsIlRzdWsgVGFpaCBTY2hvb2wiLCJDaGFsa3lp\ndHNpayIsNjYuNjUsLTE0My43MiwiUEUiLDEyLDUsMTUuNCwzLjIxLDcuMiwxLjEsNDQuODMs\nMTEuODEsNDIuODYsMTYuOTUsMzMuNzMsNy40OSwyLjIsMC40NSw0MCw0MS44Myw1MCw3MC43\nMSw5NC44LDcuOTgsOTAuNTksMjEuMDQ1LDQ2LjA2LDEyLjY0MwoiWXVrb24gRmxhdHMiLDUx\nLDUxMDA1MCwiQ2lyY2xlIFNjaG9vbCIsIkNpcmNsZSIsNjUuNDgxLC0xNDQuNjM3LCJQRSIs\nMTIsNSwxOSwyLjU1LDEyLjgsMi40OSw2NC40NiwxNy4wNSwzNy41Nyw3LjEzLDM1Ljc0LDI1\nLjM1LDIsMCw1MCwzNS4zNiw0MS43LDM0LjY5LDk0LjksNC45Myw5MS45Myw3LjIwMSw0MS4x\nMSwyLjY1OQoiWXVrb24gRmxhdHMiLDUxLDUxMDA2MCwiSm9obiBGcmVkc29uIFNjaG9vbCIs\nIlZlbmV0aWUiLDY3LjA2LC0xNDYuNDIsIlBFIiwxMiw1LDU4LjIsNS44OSwzNS4yLDAuODQs\nMzUuNiwxMi41OSwyNS44LDE0LjE1LDMwLjE4LDE1LjA0LDQuNCwwLjg5LDUyLjMzLDIyLjIy\nLDAsMCw5Mi41LDQuOTYsOTguNjksMS44MDgsNTEuNDgsMi4wODgKIll1a29uIEZsYXRzIiw1\nMSw1MTAwNzAsIkZvcnQgWXVrb24gU2Nob29sIiwiRm9ydCBZdWtvbiIsNjYuNTcsLTE0NS4y\nNiwiUEUiLDEyLDUsMTE0LjgsNC4zMiw3MS4yLDkuMzEsNTEuODgsOS44MSw0Mi4xMyw1LjYy\nLDQzLjE0LDIuMDYsMTQuOCwwLjg0LDY3LjgzLDcuNDEsNDYuMiwzNi40Nyw5My4zLDMuMDEs\nOTcuMjIsMi4wMiw1My4xMiwxLjM5CiJZdWtvbiBGbGF0cyIsNTEsNTEwMTAwLCJTdGV2ZW5z\nIFZpbGxhZ2UgU2Nob29sIiwiU3RldmVucyBWaWxsYWdlIiw2Ni4wMSwtMTQ5LjA5LCJQRSIs\nMTIsNSwxMSw1LjI5LE5BLE5BLE5BLE5BLE5BLE5BLE5BLE5BLDEsMCw2MCw1NC43NyxOQSxO\nQSxOQSxOQSw4Ny42LDExLjg3Miw1Mi4xNSw5LjcyMQoiWXVrb24gRmxhdHMiLDUxLDUxMDE0\nMCwiQ3J1aWtzaGFuayBTY2hvb2wiLCJCZWF2ZXIiLDY2Ljk3LC0xNDguNTYsIlBFIiwxMiw1\nLDEyLjQsMS42Nyw2LjIsMy44Myw4My43NywyLjc1LDY0LjEyLDcuOTIsNTYuOTMsNi44Miwx\nLDAsODAsNDQuNzIsNjAsNTQuNzcsOTIuOCw3LjUyLDc5Ljg2LDExLjkyOCw0Ni45NSw4LjI5\nCiJZdWtvbi1Lb3l1a3VrIiw1Miw1MjAwMTAsIkFsbGFrYWtldCBTY2hvb2wiLCJBbGxha2Fr\nZXQiLDY2LjU2NSwtMTUyLjY0NSwiUEUiLDEyLDUsNDIsNS44NywxOS40LDUuNzMsNDAuNTgs\nNy41MSwyOS41MSw1LjgsMzYuODksMTUuNDIsNC42LDAuNTUsNTYsMjMuMjksNDAsMjUuMjgs\nODUuOSw2LjM3LDk5LjIyLDEuNzU0LDUwLjYxLDMuNDk2CiJZdWtvbi1Lb3l1a3VrIiw1Miw1\nMjAwMzAsIkpvaG5ueSBPbGRtYW4gU2Nob29sIiwiSHVnaGVzIiw2Ni4wNDgsLTE1NC4yNTUs\nIktHIiwxMiw1LDEyLjgsMS4zLDcuNiwyLjQxLDUzLjMzLDEyLjQ3LDM0LjA3LDIyLjQ4LDIw\nLjQ0LDExLjgsMi4yLDAuNDUsNjMuMzMsMjEuNzMsNjMuMywzNC4xNiw5MC43LDguMDQsOTMu\nNzksMy41MzUsNjAuODUsNy41NjQKIll1a29uLUtveXVrdWsiLDUyLDUyMDA0MCwiSmltbXkg\nSHVudGluZ3RvbiBTY2hvb2wiLCJIdXNsaWEiLDY1LjY5OCwtMTU2LjM5OSwiUEUiLDEyLDUs\nNzkuNCw0Ljc3LDUyLjYsMy4yMSw1OS4zNSw2Ljk4LDUxLjUxLDUsNTguNTgsNC41Miw4LjYs\nMS44Miw4Mi43MywxMy40Nyw4Mi45LDI1LjU1LDk2LjEsMi43NSw5NS4yLDAuNjE3LDUxLjgz\nLDYuNjE1CiJZdWtvbi1Lb3l1a3VrIiw1Miw1MjAwNTAsIkthbHRhZyBTY2hvb2wiLCJLYWx0\nYWciLDY0LjMzLC0xNTguNzMsIlBFIiwxMiw1LDI3LjYsMi41MSwxNC44LDEuNjQsMjkuMzIs\nMTEuODYsMTYuNzgsMTAuNDUsMTYsOC41MiwzLjgsMC44NCw0MywzNy4wMSw1My4zLDM2LjEz\nLDk0LjksMi4yNSw5OS4zNSwxLjQ0Myw1OC4zLDcuMDMxCiJZdWtvbi1Lb3l1a3VrIiw1Miw1\nMjAwNjAsIkVsbGEgQi4gVmVybmV0dGkgU2Nob29sIiwiS295dWt1ayIsNjQuODgsLTE1Ny43\nLCJQRSIsMTAsNSwxMywyLjM1LDcuNiwwLjU1LDQyLjg2LDIxLjMyLDM1LjcxLDI5Ljg1LDUz\nLjkzLDQxLjg1LDIuNiwwLjU1LDg2LjY3LDE4LjI2LE5BLE5BLDk0LjEsMS44OCwxMDAsMCw2\nMi4wNiw3LjY4OAoiWXVrb24tS295dWt1ayIsNTIsNTIwMDcwLCJHbGFkeXMgRGFydCBTY2hv\nb2wiLCJNYW5sZXkgSG90IFNwcmluZ3MiLDY1LjAwNSwtMTUwLjYzLCJLRyIsMTIsNCwxMi44\nLDAuODQsOS40LDIuNjEsODIuOTIsOC40OCw3Mi4xMywxMS44OCw2Ni40NywxOC4zNCwxLjQs\nMC41NSw3MCw0NC43MiwxMDAsMCw5NS4zLDMuMzgsMzcuNzgsOC4xNyw1MC4zNSwxMC4yNTcK\nIll1a29uLUtveXVrdWsiLDUyLDUyMDA4MCwiTWludG8gU2Nob29sIiwiTWludG8iLDY1LjE2\nLC0xNDkuMzcsIlBFIiwxMiw1LDQ0LjgsNC42LDIzLjQsNC43Nyw3MS41Niw3Ljg5LDYxLjks\nNy45OSw1OC4wOCwxMS40OCw1LjgsMC44NCw4MS40MywxOS4zNyw2Ny45LDI3LjMyLDg3Ljks\nNS4yNCw5Ny40NSwyLjMzOCw1Ny40OCw2LjU5NgoiWXVrb24tS295dWt1ayIsNTIsNTIwMDkw\nLCJBbmRyZXcgSy4gRGVtb3NraSBTY2hvb2wiLCJOdWxhdG8iLDY0LjcxOSwtMTU4LjEwMywi\nUEUiLDEyLDUsMzguNCw0LjI4LDE5LjYsMi44OCw1My4yOCw0LjY0LDUzLjE4LDEwLjIxLDQ4\nLjQsNi43NSw2LDAsNzAsMjEuNzMsODUuMywxNC40NSw4OS4xLDMuNzMsMTAwLDAsNTcuNDgs\nNC41NzEKIll1a29uLUtveXVrdWsiLDUyLDUyMDExMCwiTWVycmVsaW5lIEEuIEthbmdhcyBT\nY2hvb2wiLCJSdWJ5Iiw2NC43MzksLTE1NS40ODYsIlBFIiwxMiw1LDMzLjIsMi4yOCwxOS4y\nLDIuMDUsNzAuMTMsOS42Niw2OC43Nyw5LjE2LDU2LjQ5LDkuODQsNC44LDAuNDUsODMsOS43\nNSw3Ny4xLDMxLjQ2LDg4LjgsMy41Nyw5Ni44NywyLjI4Myw1NC45NywzLjc2OAoiWXVrb24t\nS295dWt1ayIsNTIsNTI2MDEwLCJBbHllc2thIENlbnRyYWwgU2Nob29sIiwiSnVuZWF1Iiw1\nOC4zMDEsLTEzNC40MTksIktHIiwxMixOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxO\nQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQQoiWXVrb24tS295dWt1ayIs\nNTIsNTI4MDEwLCJSYXZlbiBDb3JyZXNwb25kZW5jZSBTY2hvb2wiLCJGYWlyYmFua3MiLDY0\nLjgzNywtMTQ3LjcxNiwiUEUiLDEyLDQsMTEzMS42LDc1LjkyLDUzOC4yLDM1Ljg3LDgyLjUx\nLDMuMjMsNzMuMDksMS4zMyw2MC4zMSwxLjY3LDEyLDEuNTgsODIuNTcsMTEuMDcsNDAuMiw1\nLjc0LDEwMCwwLDEyLjYyLDAuOTA4LDQ3Ljk2LDAuODY3CiJUYW5hbmEiLDUzLDUzMDAxMCwi\nTWF1ZHJleSBKLiBTb21tZXIgU2Nob29sIiwiVGFuYW5hIiw2NS4xNzEsLTE1Mi4wNzgsIlBF\nIiwxMiw1LDQxLjgsNS4wNywyNCwyLjc0LDYwLjAyLDcuMjksNTEuMDYsMTIuOTksNTMuNTEs\nMTEuMDIsNC44LDAuODQsNzAsMjguMjgsNjUuMyw0MC45Myw4OC42LDAuNTYsOTcuMTcsNS4w\nMzgsNTAuNjIsNi43NTcKIkdhbGVuYSIsMTcsMTcwMDEwLCJTaWRuZXkgQy4gSHVudGluZ3Rv\nbiBFbGVtZW50YXJ5IiwiR2FsZW5hIiw2NC43NCwtMTU2Ljg5LCJQRSIsNiwyLDU2LjgsMTAu\nMzEsMzEuMiw4LjIsODguNDYsMy40Niw4OC4zNiw3LjMyLDgxLjY2LDYuOSwxMSwxLDg2Ljcs\nMTEuMzUsTkEsTkEsOTcuNSwyLjU3LDc0LjQxLDMuMDA2LDU1LjQxLDIuMDYzCiJHYWxlbmEi\nLDE3LDE3MDAyMCwiU2lkbmV5IEMuIEh1bnRpbmd0b24gSnIvU3IgSGlnaCBTY2hvb2wiLCJH\nYWxlbmEiLDY0Ljc0LC0xNTYuODksIjciLDEyLDIsNDkuMiw0LjY2LDI5LjQsNS45LDg3LjIz\nLDYuMjYsODMuNDMsOS4wMiw3MC4zNiwxMC40MSw5LjgsMC40NSw3OS41NiwxMi4yOSw4OC40\nLDEzLjgsOTcuMiwyLjEsNzUuMTcsMS45NjIsNTIuOTgsOC4yMTQKIkdhbGVuYSIsMTcsMTc4\nMDEwLCJJbnRlcmlvciBEaXN0YW5jZSBFZHVjYXRpb24gb2YgQUsgKElERUEpIiwiRmFpcmJh\nbmtzIiw2NC44MzcsLTE0Ny43MTYsIlBFIiwxMiw1LDM2NTYuNCw5Mi41NywyMDE4LjgsNjgu\nMyw4Ni42MywxLjk4LDc1LjY3LDEuNTUsNjEuNjYsMS45OSwzMC40LDAuODksOTAuMSw0Ljcs\nNzAuNyw0LjkxLDEwMCwwLDYuODcsMC41MzEsNDkuMiwwLjc2NAoiR2FsZW5hIiwxNywxNzkw\nMTAsIkdhbGVuYSBJbnRlcmlvciBMZWFybmluZyBBY2FkZW15IChHSUxBKSIsIkdhbGVuYSIs\nNjQuNzQsLTE1Ni44OSwiOSIsMTIsNSwxOTUuOCwyMS44Myw3Ny42LDE3Ljk4LDY2Ljk3LDcu\nNyw1Ni45OSw0LjE0LDQyLjY4LDQuMjUsMTIuNiwwLjg5LDc2LjA4LDUuNzUsNjkuMyw3LjU5\nLDk3LjMsMS41NCw5MC42LDEuNTY1LDUwLjIxLDMuNTA3Cg==","date":"2018-07-26T05:14:49Z","times":{"redirect":2.234,"namelookup":0.063,"connect":0.157,"pretransfer":0.344,"starttransfer":3.188,"total":3.281},"request":{"method":"GET","url":"https://cn.dataone.org/cn/v2/resolve/urn:uuid:9e123f84-ce0d-4094-b898-c9e73680eafa","headers":{"Accept":"application/json, text/xml, application/xml, */*"},"fields":[],"options":{"useragent":"libcurl/7.59.0 r-curl/3.2 httr/1.3.1","cainfo":"C:/PROGRA~1/R/R-35~1.1/etc/curl-ca-bundle.crt","httpget":true},"auth_token":[],"output":[]}},"options":{"mode":"tree","modes":["code","form","text","tree","view"]}},"evals":[],"jsHooks":[]}</script>
<p>The <code>internet_thing</code> includes a <code>url</code>, <code>status_code</code>, and a number of other attributes. The <code>content</code> looks particularly scary because it’s still in a raw format.</p>
<p>When we bring the <code>content()</code> function into the game, voila – the <code>internet_thing</code> gets automatically parsed into a tibble.</p>
<pre class="r"><code>data &lt;- content(internet_thing)
data[, 1:5] # showing just the first 5 columns</code></pre>
<pre><code>## # A tibble: 84 x 5
##    District.Name District.ID School.ID School.Name            Location    
##    &lt;chr&gt;               &lt;int&gt;     &lt;int&gt; &lt;chr&gt;                  &lt;chr&gt;       
##  1 Denali                  2     20010 Anderson School        Anderson    
##  2 Denali                  2     20030 Cantwell School        Cantwell    
##  3 Denali                  2     20040 Tri-Valley School      Healy       
##  4 Denali                  2     28010 Denali Peak Program    Healy       
##  5 Bering Strait           7     70010 Brevig Mission School  Brevig Miss~
##  6 Bering Strait           7     70040 Aniguiin School        Elim        
##  7 Bering Strait           7     70050 Little Diomede School  Diomede     
##  8 Bering Strait           7     70060 Martin L. Olson School Golovin     
##  9 Bering Strait           7     70070 Koyuk-Malimiut School  Koyuk       
## 10 Bering Strait           7     70080 Anthony A. Andrews Sc~ St. Michael 
## # ... with 74 more rows</code></pre>
<p><img src="https://media.giphy.com/media/10UeedrT5MIfPG/giphy.gif" style="display: block; margin: auto;" /></p>
<div id="how-did-content-understand-that-the-gobbledygook-was-a-csv" class="section level4">
<h4>How did <code>content()</code> understand that the gobbledygook was a csv?</h4>
<p>If you look back at the <code>internet_thing</code>, you can see that <code>text/csv</code> specified as the <code>content-type</code> in the <code>header</code> section. The <code>content()</code> function “sees” this specification and tries to parse it in an appropriate manner. In this case, it means reading the content of the <code>internet_thing</code> in using <code>read_csv()</code>. (If you’re <em>really</em> curious about the specifics, more details are in <a href="https://github.com/r-lib/httr/blob/1fc659856602f60ff75eb01903513244e3491ec2/R/content-parse.r#L66">the code</a>!)</p>
<p><em>Also: for more info on API’s, the httr <a href="http://httr.r-lib.org/articles/quickstart.html">quickstart guide</a> and <a href="http://httr.r-lib.org/articles/api-packages.html">vignettes</a> are solid places to start. The first half of the <a href="https://rstd.io/plumber-webinar">RStudio Plumber webinar</a> is also a great intro!</em></p>
<p>This post is dedicated to the small but neat things I learned as I was trying to figure out the logic behind the function, so…</p>
</div>
</div>
<div id="on-with-the-tricks" class="section level2">
<h2>On with the <strong>tricks</strong>!</h2>
<div id="embrace-the-backtick" class="section level3">
<h3>Embrace the backtick</h3>
<p>When I came across the following piece of code, I wasn’t entirely sure what the <code>%||%</code> operator did, so I tried the normal approach: <a href="https://www.google.com/search?q=%25%7C%7C%25&amp;oq=%25%7C%7C%25&amp;aqs=chrome..69i57.3928j0j7&amp;sourceid=chrome&amp;ie=UTF-8">googling it</a>.</p>
<pre class="r"><code>type &lt;- type %||% x$headers[[&quot;Content-Type&quot;]] %||%
    mime::guess_type(x$url, empty = &quot;application/octet-stream&quot;)</code></pre>
<p>This time, Google totally failed me, so I tried searching for it on the <a href="https://github.com/r-lib/httr/search?q=%25%7C%7C%25&amp;unscoped_q=%25%7C%7C%25">GitHub repo</a>. And failed. Again. I knew it must be there, but I simply could <em>not</em> figure out how to search it!</p>
<p>Thankfully, Twitter was there for me in my time of need:</p>
{{% tweet "997178960797687809" %}}
<p>In retrospect, the backticks are obvious, but I couldn’t quite put my finger on the problem at the time. In fact, I still haven’t figured out how to Google for it directly (so send me a message if you do!).</p>
<p>If you want some more <strong>backtick action</strong>, try this in your R console:</p>
<pre class="r"><code>?`&#39;`</code></pre>
</div>
<div id="the-null-default-operator" class="section level3">
<h3>The null-default operator <code>%||%</code></h3>
<p>Also known as the <a href="https://en.wikipedia.org/wiki/Null_coalescing_operator">null coalescing operator</a>, this operator allows you to run through a series of values and take the first one that is <em>not</em> NULL.</p>
{{% tweet "997183697781587968" %}}
<p>I later discovered that this operator is exported not only by <code>rlang</code> but also <code>purrr</code>, and is used throughout the <code>tidyverse</code> set of packages.</p>
<p>That inspired me to write my own version of this function, my very own <em>null-na-default operator</em>, which returns the first argument that is neither <code>NA</code> nor <code>NULL</code>. I’ve only found one clunky <a href="https://github.com/NCEAS/metajam/blob/51b7e54c4ac923a98685d4854191a8d92dc2891c/R/download_d1_data.R#L140">use-case</a> for it so far, but I’m keeping my eyes out for other opportunities.</p>
<pre class="r"><code>`%|||%` &lt;- function (x, y) {
  if (is.null(x) | is.na(x)) {
    y
  }
  else {
    x
  }
}</code></pre>
</div>
<div id="check-argument-inputs-with-match.arg" class="section level3">
<h3>Check argument inputs with <code>match.arg()</code></h3>
<p>I am slow to develop this particular habit, but in general, it’s always a good idea to check a user’s arguments at the beginning of a function. That way, you can break out of the function early and avoid confusing error messages that get you chasing bugs in the wrong direction.</p>
<pre class="r"><code>arg &lt;- &quot;howdy&quot;
match.arg(arg, c(&quot;howdy&quot;, &quot;aloha&quot;, &quot;g&#39;day&quot;))</code></pre>
<pre><code>## [1] &quot;howdy&quot;</code></pre>
<pre class="r"><code>arg &lt;- &quot;howday&quot;
match.arg(arg, c(&quot;howdy&quot;, &quot;aloha&quot;, &quot;g&#39;day&quot;))</code></pre>
<pre><code>## Error in match.arg(arg, c(&quot;howdy&quot;, &quot;aloha&quot;, &quot;g&#39;day&quot;)): &#39;arg&#39; should be one of &quot;howdy&quot;, &quot;aloha&quot;, &quot;g&#39;day&quot;</code></pre>
<p>It also assumes you want partial-matching but throws an error if multiple options match.</p>
<pre class="r"><code>arg &lt;- &quot;how&quot;
match.arg(arg, c(&quot;howdy&quot;, &quot;aloha&quot;, &quot;g&#39;day&quot;))</code></pre>
<pre><code>## [1] &quot;howdy&quot;</code></pre>
<pre class="r"><code>arg &lt;- &quot;how&quot;
match.arg(arg, c(&quot;howdy&quot;, &quot;aloha&quot;, &quot;g&#39;day&quot;, &quot;how are ya?&quot;))</code></pre>
<pre><code>## Error in match.arg(arg, c(&quot;howdy&quot;, &quot;aloha&quot;, &quot;g&#39;day&quot;, &quot;how are ya?&quot;)): &#39;arg&#39; should be one of &quot;howdy&quot;, &quot;aloha&quot;, &quot;g&#39;day&quot;, &quot;how are ya?&quot;</code></pre>
</div>
<div id="switch-out-your-if-elses" class="section level3">
<h3><code>switch()</code> out your if-elses</h3>
<p>You can’t always escape if-else chains, but sometimes you can use <code>switch()</code> to evaluate different expressions depending on your input. Take this example:</p>
<pre class="r"><code>emph &lt;- &quot;smile&quot;

if(emph == &quot;regular&quot;) {
    print(&quot;how&#39;s it going?&quot;)
} else if (emph == &quot;smile&quot;) {
    print(&quot;how&#39;s it going? :)&quot;)
} else if (emph == &quot;exclamation&quot;) {
    print(&quot;how&#39;s it going?!&quot;)
}</code></pre>
<pre><code>## [1] &quot;how&#39;s it going? :)&quot;</code></pre>
<p>versus</p>
<pre class="r"><code>switch(emph,
       regular = print(&quot;how&#39;s it going?&quot;),
       smile = print(&quot;how&#39;s it going? :)&quot;),
       exclamation = print(&quot;how goes?!&quot;))</code></pre>
<pre><code>## [1] &quot;how&#39;s it going? :)&quot;</code></pre>
<p>The changes I’ve made here were pretty tame, but really, anything is possible (though you probably don’t want to surprise your users too much).</p>
<pre class="r"><code>switch(emph,
       regular = paste(&quot;Which would you choose?&quot;, pi, &quot;or pie?&quot;),
       smile = 1:3,
       exclamation = factorial(10))</code></pre>
<pre><code>## [1] 1 2 3</code></pre>
<p>As <a href="https://twitter.com/jennybryan">Jenny Bryan</a> put it in her excellent <a href="https://rstd.io/code-smells">Code Smells and Feels</a> talk at the 2018 useR conference:</p>
<blockquote>
<p><code>switch()</code> is ideal if you need to dispatch different <strong>logic</strong>, based on a <strong>string</strong>.<br />
You are allowed to write a helper function to generate that string.</p>
</blockquote>
<p>The tidyverse friend of the <code>switch</code> is <a href="https://dplyr.tidyverse.org/reference/case_when.html"><code>case_when</code></a>. In Jenny’s words:</p>
<blockquote>
<p><code>dplyr::case_when()</code> is ideal if you need to dispatch different <strong>data</strong>, based on <strong>data (+ logic)</strong>.</p>
</blockquote>
<p><em>Note: the talk also covers our friend the null-coalescing operator <code>%||%</code>!</em></p>
</div>
<div id="strange-bedfellows" class="section level3">
<h3>Strange bedfellows</h3>
<p>I thought I was relatively comfortable with lists until I saw <em>functions</em> stored in a list. Check it out for yourself in the code of the <a href="https://github.com/r-lib/httr/blob/1fc659856602f60ff75eb01903513244e3491ec2/R/content-parse.r#L66"><code>parse_auto()</code></a> helper function, which is called by <code>content()</code>. It still blows my mind a little, but I realize now that it’s a form of <a href="http://adv-r.had.co.nz/OO-essentials.html">object-oriented programming</a>.</p>
<p>Depending on what type of <code>internet_thing</code> we give it, <code>parse_auto()</code> will find the function best suited to it. For example, the following snippet (which I’ve shortened from the original) shows that different functions–the aptly named <code>read_xml()</code> and <code>read_csv</code>–are called to depending on whether the metadata of the <code>internet_thing</code> says it’s an XML file or a csv.</p>
<pre class="r"><code>parsers$`text/xml` &lt;- function(x, type = NULL, ...) {
  need_package(&quot;xml2&quot;)
  xml2::read_xml(x, encoding = encoding, ...)
}

parsers$`text/csv` &lt;- function(x, type = NULL, ...) {
  need_package(&quot;readr&quot;)
  readr::read_csv(x, locale = readr::locale(encoding = encoding), ...)
}</code></pre>
</div>
</div>
<div id="tldr---do-read-the-source-code" class="section level2">
<h2>tl;dr - <em>do</em> read the source code!</h2>
<p>Admittedly, not all source code is created equal, but try to at least skim through! If you find that you can read through the code almost like it’s English, then you’ve probably found a human-readable gem.</p>
</div>
